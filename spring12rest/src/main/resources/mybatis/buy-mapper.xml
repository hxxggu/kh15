<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="buy">

	<!-- 등록 -->
	<select id="buySequence" resultType="long">
		select buy_seq.nextval from dual
	</select>
	<insert id="addBuy" >
		insert into buy(buy_no, buy_owner, buy_tid, buy_name, buy_total, buy_remain)
		values(#{buyNo}, #{buyOwner}, #{buyTid}, #{buyName}, #{buyTotal}, #{buyTotal})
		<!-- buy_remain도 buy_total과 동일하게 처리 -->
	</insert>
	
	<select id="buyDetailSequence" resultType="long">
		select buy_detail_seq.nextval from dual
	</select>
	<insert id="addBuyDetail">
		insert into buy_detail(
			buy_detail_no, buy_detail_origin, buy_detail_item,
			buy_detail_name, buy_detail_price, buy_detail_qty,
			buy_detail_status
		)
		values(
			#{buyDetailNo}, #{buyDetailOrigin}, #{buyDetailItem},
			#{buyDetailName}, #{buyDetailPrice}, #{buyDetailQty},
			'Y'
		)
	</insert>
	
</mapper>